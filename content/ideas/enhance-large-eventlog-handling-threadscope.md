---
title: Enhance large eventlog handing in ThreadScope
---

[ThreadScope][1] is a GUI for viewing and analyzing [GHC events][2] (aka. "event
logs"). One of the current limitations of ThreadScope is that it needs to
deserialize and keep the whole event log file (`.eventlog` generated by the GHC
runtime system) in memory. For a 1G eventlog file this requires [more than 30G
memory][3]. Given how easy it is to generate a 1G-large eventlog file (just run
a threaded server under load for a few minutes), this renders ThreadScope
useless for profiling long-running applications.

Goal of this project is to improve this by loading necessary chunks of the
.eventlog file (or a pre-processed file derived from it) in runtime and
releasing the unnecessary bits (thus freeing memory).

Some investigation on an implementation strategy [has already been done][3] by
the mentor of this project, however there are [bugs to fix][4] and [code to
refactor][5] before actually implementing this feature, and the actual
implementation plan is open to discussion.

In addition to Haskell experience, GTK+ experience will be useful for this
project.

**Mentor**: Ömer Sinan Ağacan

**Difficulty**: Intermediate

[1]: https://hackage.haskell.org/package/threadscope
[2]: http://hackage.haskell.org/package/ghc-events
[3]: https://github.com/haskell/ThreadScope/issues/29#issuecomment-415953934
[4]: https://github.com/haskell/ghc-events/issues/41
[5]: https://github.com/haskell/ghc-events/issues/14#issuecomment-417917789
